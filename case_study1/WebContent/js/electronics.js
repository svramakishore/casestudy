var electronics_filters = {
      
        "weight":[
            "1kg",
            "2kg",
            "3kg"
        ],
        
       
        "brand": [
           
            "toshiba",
            "lenovo",
            "dell",
            "hp"
        ],
        
}
//var electronics_list = {
//    
//    
//            "toshiba1":
//            
//                {
//                    "weight": "1kg",
//                    "hard_disc":"500GB",
//                    "ram":"2_GB",
//                    "brand": "toshiba",
//                    "grapic_card":"1GB",
//                    "displaybleName": "Toshiba_500",
//                    
//                    "Color": 
//                        "orange",
//                    "image":"images/tosiba11.jpg"
//                },
//                
//        
//             "toshiba2":
//               
//                    {
//                    "weight": "2kg",
//                    "hard_disc":"750GB",
//                    "ram":"4_GB","brand": "toshiba",
//                    "grapic_card":"3GB",
//                    "displaybleName": "Toshiba_750",
//                    
//                    "Color": 
//                        "#0000EE"
//                    ,
//                    "image":"images/toshiba21.jpg"
//                
//                },
//                
//            "toshiba3": 
//                {
//                    
//                    "weight": "3kg",
//                    "hard_disc":"1TB",
//                    "ram":"8_GB","brand": "toshiba",
//                    "grapic_card":"3GB",
//                    "displaybleName": "Toshiba_1000",
//                    
//                    "Color": 
//                        "#CD5555" ,
//                    "image":"images/toshiba31.jpg"
//                },
//                
//         "Lenovo1": 
//                {
//                    "weight": "1kg",
//                    "hard_disc":"500GB",
//                    "ram":"2_GB","brand": "lenovo",
//                    "grapic_card":"1GB",
//                    "displaybleName": "Lenovo_500",
//                    
//                    "Color": 
//                        "orange"
//                    ,
//                    "image":"images/lenovo11.jpg"
//                },
//                
//"Lenovo2":
//
//                {
//                    
//                    "weight": "2kg",
//                    "hard_disc":"750GB",
//                    "ram":"4_GB","brand": "lenovo",
//                    "grapic_card":"3GB",
//                    "displaybleName": "Lenovo_750",
//                    
//                    "Color": 
//                        "#0000FF"
//                    ,
//                    "image":"images/lenovo21.jpg"
//                
//                },
//               
// "Dell1":
//                {
//                    
//                                      "weight": "2kg",
//                    "hard_disc":"750GB",
//                    "ram":"4_GB","brand": "dell",
//                    "grapic_card":"3GB",
//                    "displaybleName": "Dell_750",
//                    
//                    "Color": 
//                        "#FF6A6A"
//                    ,
//                    "image":"images/dell11.jpg"
//                
//                },
//              
//            "Dell2": 
//                {
//                    "weight": "3kg",
//                    "hard_disc":"1TB",
//                    "ram":"8_GB","brand": "dell",
//                    "grapic_card":"3GB",
//                    "displaybleName": "Dell_1000",
//                    
//                    "Color": 
//                        "orange"
//                    ,
//                    "image":"images/dell21.jpg"
//                },
//               
//            "HP1": 
//                {
//                                    "weight": "1kg",
//                    "hard_disc":"500GB",
//                    "ram":"2_GB","brand": "hp",
//                    "grapic_card":"1GB",
//                    "displaybleName": "HP_500",
//                    
//                    "Color": 
//                        "orange"
//                    ,
//                    "image":"images/hp11.jpg",
//    
//                },
//               
//           "HP2": 
//                {
//                                      "weight": "3kg",
//                    "hard_disc":"1TB",
//                    "ram":"8_GB","brand": "hp",
//                    "grapic_card":"5GB",
//
//                "displaybleName": "HP_1000",
//                    
//                    "Color": 
//                        "#00F5FF"
//                    ,
//                    "image":"images/hp21.jpg",
//                },
//                
//}

var inner_image= {
    "1kg500GB2_GBtoshiba1GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "1kg",
        "hard_disc":"500GB",
        "ram":"2_GB",
        "brand": "toshiba",
        "grapic_card":"1GB",
        "displaybleName": "Toshiba 500",
        "weight":"4000-7000"
    },
    "2kg750GB4_GBtoshiba2GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "2kg",
        "hard_disc":"750GB",
        "ram":"4_GB","brand": "toshiba",
        "grapic_card":"3GB",
        "displaybleName": "Toshiba 750",
        "weight":"7000-10000"

        
    },
    "3kg1TB8_GBtoshiba2GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "3kg",
        "hard_disc":"1TB",
        "ram":"8_GB","brand": "toshiba",
        "grapic_card":"3GB",
        "displaybleName": "Toshiba 1000",
        "weight":"10000-12000",

        
    },
    "1kg500GB2_GBlenovo1GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "1kg",
        "hard_disc":"500GB",
        "ram":"2_GB","brand": "lenovo",
        "grapic_card":"1GB",
        "displaybleName": "Lenovo 500",
        "weight": "4000-7000",
    },
    "2kg750GB4_GBlenovo2GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "2kg",
        "hard_disc":"750GB",
        "ram":"4_GB","brand": "lenovo",
        "grapic_card":"3GB",
        "displaybleName": "Lenovo 750",
        "weight": "7000-10000",

        
    },
    "2kg750GB4_GBdell2GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "2kg",
        "hard_disc":"750GB",
        "ram":"4_GB","brand": "dell",
        "grapic_card":"3GB",
        "displaybleName": "LDell750",
        "weight": "7000-10000",
        
    },
    "3kg1TB8_GBdell2GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "3kg",
        "hard_disc":"1TB",
        "ram":"8_GB","brand": "dell",
        "grapic_card":"3GB",
        "displaybleName": "Dell 1000",
        "weight":"10000-12000",
        
    },
    "1kg500GB2_GBhp1GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "1kg",
        "hard_disc":"500GB",
        "ram":"2_GB","brand": "hp",
        "grapic_card":"1GB",
        "displaybleName": "HP 500",
        "weight": "4000-7000",
        
    },
    "3kg1TB8_GBhp5GB":{
        "image1":"images/smallimage1.jpg",
        "image2":"",
        "image3":"",
        "image4":"",
        "weight": "3kg",
        "hard_disc":"1TB",
        "ram":"8_GB","brand": "hp",
        "grapic_card":"5GB",
        "displaybleName": "HP 1000",
        "weight":"10000-12000",
        
    }
}
$(document).ready(function() {
/*complete Code related to filter*/
    //for appending objects keys and values into filters    
	$(document).ready(function() {

		$.ajax({
			url:"/case_study1/electronics.do",
			type:"get",
			 dataType: 'json',
			success:function(electronics_list){
		
			$("#filters-table-1").append('<tr id="filter-categories-1"></tr>'); // creating a row for table-1 to 4
	        // creating a row for filter options
	                                                                             // for table -1 to 4
	for(var key in electronics_filters){
	  electronicsfilters_array=electronics_filters[key];
	   $("#filter-area").append('<table id="'+key+'" class="forfilter"><tr><th  ><span class="text-primary " style="margin-left:25%">'+key+'</span></th></tr>');
	   
	   for(var i=0;i<electronicsfilters_array.length;i++){
	       $("#"+key).append('<tr><td><div class=" checkbox"><label id="label_'+key+"_"+electronicsfilters_array[i]+'" style="margin-left:25%"><input \
	                   type="checkbox" id='+key+"_"+electronicsfilters_array[i]+' value="">'+electronicsfilters_array[i]+'</label></div></td></tr>');
	   }
	   $("#"+key).append("</table>");
	}
	
	old_cat_title = [];
	var ab=0;
	$('.checkbox').change(function() {
	   var checkedlen=$('.checkbox').find('input').is(":checked");
	   if(ab < 9){
	       for(var key in electronics_list){
	           var electronics_list_array=electronics_list[key];
	           $('.'+electronics_list_array["weight"]+'_'+electronics_list_array["brand"]).hide();
	           ab++;
	       }

	   }
	   var newkey=$(this).find('input').attr('id').split('_')[0];
	   var array_val=$(this).find('input').attr('id').split('_')[1];
	   for(var key in electronics_filters){
	      electronicsfilters_array=electronics_filters[key];
	       for(var i=0;i<electronicsfilters_array.length;i++){
	           if((newkey==key)&&(array_val==electronicsfilters_array[i]) ){
	               var category=key;
	               var filter_name=electronicsfilters_array[i];
	           }
	       }
	   }
	   if($(this).find('input').is(":checked")){
	       var array_val1=$(this).find('input').attr('id').split('_')[1];
	       
	       for(var key in electronics_list){
	           var electronics_list_array=electronics_list[key];
	           var newbooklist_array=electronics_list[key][newkey];
	           if(array_val1 == newbooklist_array){
	               array_val3=newbooklist_array;
	               if(newkey=="weight"){for(var key in electronics_list){$('.'+array_val3+'_'+electronics_list_array["brand"]).show();}}
	               if(newkey=="brand"){for(var key in electronics_list){$('.'+electronics_list_array["weight"]+'_'+array_val3).show();}}
	           }
	       }
	   }
	   if(!($(this).find('input').is(":checked"))) {
	       var newkey=$(this).find('input').attr('id').split('_')[0];
	       var array_val1=$(this).find('input').attr('id').split('_')[1];
	       
	       for(var key in electronics_list){
	           var electronics_list_array=electronics_list[key];
	           var newbooklist_array=electronics_list[key][newkey];
	           if(array_val1 == newbooklist_array){
	               if(newkey=="weight"){for(var key in electronics_list){$('.'+newbooklist_array+'_'+electronics_list_array["brand"]).hide();}}
	               if(newkey=="brand"){for(var key in electronics_list){$('.'+electronics_list_array["weight"]+'_'+newbooklist_array).hide();}}
	           }
	       }
	       for(key in electronics_filters){
	           var electronics_filters_array2=electronics_filters[key];
	           for(var k=0;k<electronics_filters_array2.length;k++){
	               var newid= "label_"+key+'_'+electronics_filters_array2[k];
	               var newleng=$('#'+newid).find('input').is(":checked").length;
	               if($('#'+newid).find('input').is(":checked")){
	                   newid=newid.split("label_")[1];
	                   var newkey1=newid.split('_')[0];
	                   var array_val11=newid.split('_')[1];
	                   
	                   for(var key in electronics_list){
	                       var electronics_list_array=electronics_list[key];
	                       var newbooklist_array=electronics_list[key][newkey1];
	                       if(array_val1 == newbooklist_array){
	                           if(newkey1=="weight"){for(var key in electronics_list){$('.'+newbooklist_array+'_'+electronics_list_array["brand"]).show();}}
	                           if(newkey1=="brand"){for(var key in electronics_list){$('.'+electronics_list_array["weight"]+'_'+newbooklist_array).show();}}
	                       }
	                   }
	               }
	           }
	       }
	   }
	   if($(this).find('input').is(":checked")){
	       if(old_cat_title.length==0){
	           $(".filter-span").append('<ul class="text-capitalize" style="list-style-type:none;padding-left:5px"><span id="span_'+category+'">'+ category + ' : </span></ul>');
	           $(".filter-span #span_"+category).addClass("text-primary");
	           old_cat_title.push(category);
	       }
	       else {
	           for(var i=0;i<old_cat_title.length;i++) {
	               if(old_cat_title[i] == category) break;
	               else if(i == old_cat_title.length-1) {
	                   $(".filter-span").append('<ul class="text-capitalize" style="list-style-type:none;padding-left:5px"><span id="span_'+category+'">' + category + ' : </span></ul>');
	                   $(".filter-span #span_"+category).addClass("text-primary");
	                   var temp = category;
	               }
	           }
	           old_cat_title.push(temp);
	       }
	       $("#span_"+category).append('<li><span class="filter-tags" id="span_'+$(this).find('input').attr("id")+'" style="width: 75%;"><span>'+filter_name+'<span class="filter-close" style="padding-left: 60%;">x</span></span></span></li>');
	   }
	   $('.filter-close').click(function () {
	       $(this).parent().parent().remove();
	       var close_id= $(this).parent().parent().attr('id').split("span_")[1];
	       $('#'+close_id).attr('checked', false);
	       if($('#span_'+category).text() ==category+' : '){
	           $('#span_'+category).remove();
	           var index = old_cat_title.indexOf(category);
	           old_cat_title.splice(index,1);
	       }
	       var array_val1=close_id.split('_')[1];
	       
//	       $.ajax({
//	    	   url:"../cart.jsp",
//	           data:key,
//	       
//	       });
	       for(var key in electronics_list){
	           var electronics_list_array=electronics_list[key];
	           var newbooklist_array=electronics_list[key][newkey];
	           if(array_val1 == newbooklist_array){
	               array_val3=newbooklist_array;
	               if(newkey=="weight"){$('.'+array_val3+'_'+electronics_list_array["brand"]).hide();}
	               if(newkey=="brand"){$('.'+electronics_list_array["weight"]+'_'+array_val3).hide();}
	           }
	       }
	       if($('.filter-span').text() == ""){
	           for(var key in electronics_list){
	               var electronics_list_array=electronics_list[key];
	               $('.'+electronics_list_array["weight"]+'_'+electronics_list_array["brand"]).show();
	               ab=0;
	           }
	       }

	   });
	   if(!($(this).find('input').is(":checked"))){
	       var id=$(this).find('input').attr('id');
	       id='span_'+id;
	       $('#'+id).parent().remove();
	   }
	   var removeCategory = function(){ 
	       if($('#span_'+category).text() == category+' : '){
	          $('#span_'+category).remove();
	         var index = old_cat_title.indexOf(category);
	         old_cat_title.splice(index,1); 

	       }
	   }
	   removeCategory();
	   if(checkedlen == 0){
	       for(var key in electronics_list){
	           var electronics_list_array=electronics_list[key];
	           $('.'+electronics_list_array["weight"]+'_'+electronics_list_array["brand"]).show();
	           ab=0;
	       }
	   }
	});
	$('#reset-btn').click(function(){
	   $('.filter-span').empty();
	   $('#more-filters-container').find('input').attr('checked', false);
	   old_cat_title=[];
	   for(var key in electronics_list){
	       var electronics_list_array=electronics_list[key];
	       $('.'+electronics_list_array["weight"]+'_'+electronics_list_array["brand"]).show();
	   }
	   ab=0;
	});
	$('body').click(function(evt){    
	  if((evt.target.class == "shopByBar")||(evt.target.id== 'more-filters-container')||(evt.target.class == "filter-close"))
	     return;
	  if(($(evt.target).closest('.shopByBar').length)||($(evt.target).closest('#more-filters-container').length)||($(evt.target).closest('.filter-close').length))
	     return;  
	     $("#more-filters-list2").slideUp("fast");           
	});
	var to_append=" ";
	for(var key in electronics_list){
	   var electronics_list_array=electronics_list[key];
	 to_append +='\
	 <div class="'+electronics_list_array["weight"]+'_'+electronics_list_array["brand"]+'">\
	 <div class="'+electronics_list_array["displaybleName"]+'">\
	           <div class="col-xs-12 col-sm-6 col-md-4 bookimage" style="padding:0px;">\
	           <div class="text-center" ><a href="/case_study1/electronicDesc.do?id='+key+'"><img src="'+electronics_list_array["image"]+'" class="'+electronics_list_array["image"]+' img-thumbnail" style="width: 250px; height: 245px;"></a></div>\
	           <div class="text-center" ><p><strong>'+electronics_list_array["displaybleName"]+'</strong></p></div>\
	           <div class="text-primary"><p><span class="text-left" style="padding-left:25%;">weight :'+electronics_list_array["weight"]+'</span><span class="text-right" style="padding-left:8%">Hard Disc :'+electronics_list_array["hard_disc"]+'</span></div>\
	           </div>\
	           </div>\
	           </div>';
	}
	
	$(".catlogitems").append(to_append);
	
			}
		} );
	});
	})